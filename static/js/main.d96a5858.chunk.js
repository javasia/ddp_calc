(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports=a(165)},128:function(e,t,a){},134:function(e,t){},135:function(e,t){},161:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(9),l=a.n(o),i=a(47),u=a(17),s=a(6),p=a(221),m=a(214),d=a(33);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var f,b=Object(p.a)("DATA/SET_CALCULATION_NAME"),h=Object(p.a)("DATA/SET_TRANSPORT_TYPE"),y=Object(p.a)("DATA/SET_CARGO_DATA"),g=Object(p.a)("DATA/READY"),T=Object(m.a)((n={},Object(s.a)(n,b,function(e,t){return O({},e,{calculationName:t.payload})}),Object(s.a)(n,h,function(e,t){return O({},e,{transportType:t.payload})}),Object(s.a)(n,y,function(e,t){return O({},e,{cargoData:t.payload})}),Object(s.a)(n,g,function(e,t){return O({},e,{dataReady:t.payload})}),n),{calculationName:"",transportType:"",cargoData:{data:[],cols:[],fileName:""},dataReady:!1}),v=function(e){return e.data},_=Object(d.a)(v,function(e){return e.calculationName}),N=Object(d.a)(v,function(e){return e.transportType}),j=Object(d.a)(v,function(e){return e.cargoData}),S=Object(d.a)(v,function(e){return e.dataReady}),D=Object(d.a)(v,function(e){return e.cargoData.fileName}),P=a(8),R={cost:{name:"cost",description:"VIA VALUE (SKU COST TO TT)"},volume:{name:"volume",description:"VIA VOLUME (SKU VOLUME TO TTL)"},weight:{name:"weight",description:"VIA WEIGHT (SKU WEIGHT TO TTL)"}},C={EUR:{name:"EUR",description:"euro"},USD:{name:"USD",description:"US Dollar"},UAH:{name:"UAH",description:"hryvnya"}},A=R.weight,I=R.volume,w=R.cost,U=C.USD.name,L=[{name:"INVOICE COST",criterion:w,currency:U,isDefault:!0,amount:0},{name:"TRANSPORTATION",criterion:I,currency:U,isDefault:!0,amount:0},{name:"CUSTOMS DUTY",criterion:w,currency:U,isDefault:!0,amount:0},{name:"LOADING/UNLOADING",criterion:A,currency:U,isDefault:!0,amount:0}];function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var k=M({},R),B=Object(p.a)("STATES_OF_EXPENSES/ADD_STATE_OF_EXPENSES"),F=Object(p.a)("STATES_OF_EXPENSES/SET_NAME"),Y=Object(p.a)("STATES_OF_EXPENSES/SET_CRITERION"),W=Object(p.a)("STATES_OF_EXPENSES/DELETE_STATE_OF_EXPENSES"),G=Object(p.a)("STATES_OF_EXPENSES/RESET_TEMPLATE"),V=Object(p.a)("STATES_OF_EXPENSES/SET_CURRENCY"),H=Object(p.a)("STATES_OF_EXPENSES/SET_AMOUNT"),X=Object(p.a)("STATES_OF_EXPENSES/SET_EXCHANGE_RATE"),K=Object(P.a)(L),J=Object(m.a)((f={},Object(s.a)(f,B,function(e,t){var a=t.payload;return[].concat(Object(P.a)(e),[a])}),Object(s.a)(f,W,function(e,t){var a=t.payload;return[].concat(Object(P.a)(e.slice(0,a)),Object(P.a)(e.slice(a+1)))}),Object(s.a)(f,F,function(e,t){var a=t.payload,n=a.index,r=a.name;return[].concat(Object(P.a)(e.slice(0,n)),[M({},e[n],{name:r})],Object(P.a)(e.slice(n+1)))}),Object(s.a)(f,Y,function(e,t){var a=t.payload,n=a.index,r=a.criterion;return[].concat(Object(P.a)(e.slice(0,n)),[M({},e[n],{criterion:M({},k[r])})],Object(P.a)(e.slice(n+1)))}),Object(s.a)(f,V,function(e,t){var a=t.payload,n=a.index,r=a.currency;return[].concat(Object(P.a)(e.slice(0,n)),[M({},e[n],{currency:r})],Object(P.a)(e.slice(n+1)))}),Object(s.a)(f,H,function(e,t){var a=t.payload,n=a.index,r=a.amount;return[].concat(Object(P.a)(e.slice(0,n)),[M({},e[n],{amount:r})],Object(P.a)(e.slice(n+1)))}),Object(s.a)(f,X,function(e,t){var a=t.payload,n=a.index,r=a.exchangeRate;return[].concat(Object(P.a)(e.slice(0,n)),[M({},e[n],{exchangeRate:r})],Object(P.a)(e.slice(n+1)))}),Object(s.a)(f,G,function(){return M({},K)}),f),K),q=Object(d.a)(function(e){return e.statesOfExpenses},function(e){return e}),z={data:T,statesOfExpenses:J},Q=a(35),Z=a(92),$=function(e,t){return Object(Q.createStore)(Object(Q.combineReducers)(e),{},Object(Z.composeWithDevTools)(Q.applyMiddleware.apply(void 0,Object(P.a)(t))))},ee=a(93),te=function(){return[ee.a]};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=a(32),ne=a(20),re=a(219),ce=a(212),oe=a(217),le=a(166),ie=a(206),ue=a(204),se=(a(27),a(3)),pe=Object(ue.a)(function(e){return{button:{margin:e.spacing(1)}}});function me(e){var t=pe(),a=e.children,n=e.style,r=e.className;return c.a.createElement(ie.a,{variant:"contained",color:"primary",style:n,className:Object(se.a)(t.root,r)},a)}me.defaultProps={style:{},className:""};a(128);var de=function(e){return c.a.createElement(me,Object.assign({},e,{className:"full-width-button",style:{margin:"1px 0"}}))};var Ee=function(){return c.a.createElement("div",{className:"frame-holder"},c.a.createElement("h1",{className:"frame-header"},"Check your saved DDP calculations:"),c.a.createElement("li",null,c.a.createElement(de,null,"FOB Bulgaria - FOT KYIV: kitchen accessories: (01 JULY 2019)"),c.a.createElement(de,null,"FOB China - FOT KYIV: kitchen accessories (01 JULY 2019)"),c.a.createElement(de,null,"EXW Italy - FOT KYIV: HPL (02 JULY 2019)"),c.a.createElement(de,null,"FOB Brazil - FOT KYIV: water boilers (30 JULY 2019)")))},Oe=a(215);function fe(e){var t=e.handleChange,a=e.placeholder,n=e.style,r=e.disabled,o=e.required,l=e.value,i=e.type;return c.a.createElement(Oe.a,{placeholder:a,margin:"normal",variant:"outlined",style:n,inputProps:{"aria-label":"bare"},onChange:t,disabled:r,required:o,value:l,type:i})}fe.defaultProps={placeholder:"",style:{},disabled:!1,required:!1,type:"",handleChange:function(){return console.error("No change handler provided")}};var be=Object(ue.a)(function(e){return{root:{width:"90%"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},footer:{marginTop:"20px",textAlign:"center"}}}),he={dispatchDataReady:g};function ye(e){var t=e.handleBack,a=e.handleNext,n=e.handleSkip,r=e.isStepOptional,o=e.isLastStep,l=e.validate,i=e.reset,u=e.dispatchDataReady,s=e.stepContent,p=e.isBackButtonDisabled;var m=be();return c.a.createElement("div",{className:m.footer},c.a.createElement("div",null,c.a.createElement(le.a,{className:m.instructions},s),c.a.createElement("div",null,c.a.createElement(ie.a,{onClick:t,className:m.button,disabled:p},"Back"),r&&c.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:function(){i(),n()},className:m.button},"Skip (Reset)"),c.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:function(){var e=l();u(o&&e),e&&a()},className:m.button},o?"Finish":"Next"))))}ye.defaultProps={isBackButtonDisabled:!0,reset:function(){return null}};var ge,Te,ve=Object(u.connect)(null,he)(ye),_e={NOT_EMPTY0:"NOT_EMPTY0",NOT_EMPTY5:"NOT_EMPTY5",NOT_LONGER30:"NOT_LONGER30",NOT_EMPTY10:"NOT_EMPTY10",RADIO_NOT_SELECTED:"RADIO_NOT_SELECTED",NOT_A_NUMBER:"NOT_A_NUMBER",IS_NEGATIVE_OR_ZERO:"IS_NEGATIVE_OR_ZERO",FILE_NOT_PROVIDED:"FILE_NOT_PROVIDED"},Ne={WRONG_COL_NUMBER:"FILE_DATA/WRONG_COL_NUMBER",NO_EMPTY_CELLS:"FILE_DATA/NO_EMPTY_CELLS",WRONG_HEADER:"FILE_DATA/WRONG_HEADER",AT_LEAST_ONE_PRODUCT:"FILE_DATA/AT_LEAST_ONE_PRODUCT",PRICE_IS_NOT_NUMBER:"FILE_DATA/PRICE_IS_NOT_NUMBER",QTY_IS_NOT_NUMBER:"FILE_DATA/QTY_IS_NOT_NUMBER",G_WEIGHT_IS_NOT_NUMBER:"FILE_DATA/G_WEIGHT_IS_NOT_NUMBER",CBM_IS_NOT_NUMBER:"FILE_DATA/CBM_IS_NOT_NUMBER",CURRENCY_IS_NUMBER:"FILE_DATA/CURRENCY_IS_NUMBER",UM_IS_NUMBER:"FILE_DATA/UM_IS_NUMBER",WRONG_CURRENCY:"FILE_DATA/WRONG_CURRENCY"};function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Se=_e.NOT_EMPTY0,De=_e.NOT_EMPTY5,Pe=_e.NOT_EMPTY10,Re=_e.NOT_LONGER30,Ce=_e.RADIO_NOT_SELECTED,Ae=_e.FILE_NOT_PROVIDED,Ie=_e.NOT_A_NUMBER,we=_e.IS_NEGATIVE_OR_ZERO,Ue=Ne.WRONG_COL_NUMBER,Le=Ne.NO_EMPTY_CELLS,xe=Ne.WRONG_HEADER,Me=Ne.AT_LEAST_ONE_PRODUCT,ke=Ne.PRICE_IS_NOT_NUMBER,Be=Ne.QTY_IS_NOT_NUMBER,Fe=Ne.G_WEIGHT_IS_NOT_NUMBER,Ye=Ne.CBM_IS_NOT_NUMBER,We=Ne.CURRENCY_IS_NUMBER,Ge=Ne.UM_IS_NUMBER,Ve=Ne.WRONG_CURRENCY,He=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},(ge={},Object(s.a)(ge,Se,"Error: please fill the field"),Object(s.a)(ge,De,"Error: field must have at least 5 symbols"),Object(s.a)(ge,Re,"Error: field must have at most 30 symbols"),Object(s.a)(ge,Pe,"Error: field must have at least 10 symbols"),Object(s.a)(ge,Ce,"Error: please select an option"),Object(s.a)(ge,Ae,"Error: file must be provided"),Object(s.a)(ge,Ie,"Error: field is not a number"),Object(s.a)(ge,we,"Error: field should a greater than zero"),ge),{},(Te={},Object(s.a)(Te,Ue,"Wrong data format: ".concat(Ue)),Object(s.a)(Te,Le,"Wrong data format: ".concat(Le)),Object(s.a)(Te,xe,"Wrong data format: ".concat(xe)),Object(s.a)(Te,Me,"Wrong data format: there should be at least one product"),Object(s.a)(Te,ke,"Wrong data format: ".concat(ke)),Object(s.a)(Te,Be,"Wrong data format: ".concat(Be)),Object(s.a)(Te,Fe,"Wrong data format: ".concat(Fe)),Object(s.a)(Te,Ye,"Wrong data format: ".concat(Ye)),Object(s.a)(Te,We,"Wrong data format: ".concat(We)),Object(s.a)(Te,Ge,"Wrong data format: ".concat(Ge)),Object(s.a)(Te,Ve,"Wrong data format: ".concat(Ve)),Te));var Xe=function(e){var t=e.errorType,a=He[t]||t;return c.a.createElement("span",{className:"error"},a)},Ke={validateEmpty0:function(e){return e&&e.length?null:_e.NOT_EMPTY0},validateEmpty5:function(e){return e.length<5?_e.NOT_EMPTY5:null},validateLonger30:function(e){return e.length>=30?_e.NOT_LONGER30:null},validateEmpty10:function(e){return e.length<10?_e.NOT_EMPTY10:null},validateNotNumber:function(e){return Number.isNaN(Number.parseFloat(e)?_e.NOT_A_NUMBER:null)},validateIsNegativeOrZero:function(e){return e<=0?_e.IS_NEGATIVE_OR_ZERO:null},validateRadioNotSelected:function(e){return""===e?_e.RADIO_NOT_SELECTED:null},validateFileNotProvided:function(e){return""===e?_e.FILE_NOT_PROVIDED:null},validateWrongDataFormat:function(e){var t=e.data,a=e.cols,n=["Item code","Item Description","U.M.","Quantity, U.M.","Price per U.M.","Currency","Gross Weight, kg","Volume, CBM","Duty tariff, %"];if(9!==a.length)return Ne.WRONG_COL_NUMBER;if(!(t.length>=2&&t[1].length>0))return Ne.AT_LEAST_ONE_PRODUCT;if(Object(P.a)(t).some(function(e){return!Object(P.a)(e).every(function(e){return!!e})}))return Ne.NO_EMPTY_CELLS;if(t[0].some(function(e,t){return e!==n[t]}))return Ne.WRONG_HEADER;var r=Object.values(C).map(function(e){return e.name});return Object(P.a)(t).some(function(e,t){return!r.includes(e[5])&&t})?Ne.WRONG_CURRENCY:null}},Je={dispatchCalculationName:b};function qe(e){var t=e.footerProps,a=e.dispatchCalculationName,n=e.calculationName,o=Object(r.useState)({}),l=Object(ne.a)(o,2),i=l[0],u=l[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ee,null),c.a.createElement("div",{className:"frame-holder"},c.a.createElement("h1",{className:"frame-header"},"Create new calculation:"),c.a.createElement("div",{style:{marginLeft:"1em"}},c.a.createElement(fe,{style:{width:"100%"},placeholder:"Please enter the name of calculation (i.e. New Calculation for John)",handleChange:function(e){a(e.target.value)},value:n,required:!0}),i.calculationName&&c.a.createElement(Xe,{errorType:i.calculationName}))),c.a.createElement(ve,Object.assign({},t,{validate:function(){var e={calculationName:(0,Ke.validateEmpty10)(n)};return u(e),Object.values(e).every(function(e){return!1===!!e})}})))}qe.defaultProps={calculationName:""};var ze=Object(u.connect)(function(e){return{calculationName:_(e)}},Je)(qe),Qe={HOME_ROUTE:"/ddp_calc",STEPPER_ROUTE:"/stepper",DDP_CALCULATION_RESULT:"/ddp"};var Ze=Object(u.connect)(function(e){return{dataReady:S(e)}},null)(function(e){return e.dataReady?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"DDPPrice is under construction")):c.a.createElement(ae.a,{to:Qe.STEPPER_ROUTE})}),$e=a(216),et=a(218),tt=a(209);function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function rt(e){var t=e.label,a=e.style;return c.a.createElement("div",{style:nt({marginBottom:"1px",fontSize:"1em"},a)},"".concat(t,":"))}rt.defaultProps={style:{}};var ct=rt,ot=a(26),lt=a.n(ot),it=Object(ue.a)(function(e){return{button:{margin:e.spacing(1)},input:{display:"none"},divDownloadTemplate:{cursor:"pointer",boxShadow:"#bdbdbd 4px 5px 5px 0px"},imgDownloadTemplate:{display:"block",marginTop:"30px"},spanDownloadTemplate:{display:"block",textAlign:"center",fontSize:"0.9em",backgroundColor:"#e0e0e0"}}});function ut(e){var t=it(),a=e.style,n=e.dispatchCargoData;function r(e,t){var a=new FileReader,r=!!a.readAsBinaryString;a.onload=function(e){var a=e.target.result,c=lt.a.read(a,{type:r?"binary":"array"}),o=c.SheetNames[0],l=c.Sheets[o],i=lt.a.utils.sheet_to_json(l,{header:1}),u=function(e){for(var t=[],a=lt.a.utils.decode_range(e).e.c+1,n=0;n<a;n+=1)t[n]={name:lt.a.utils.encode_col(n),key:n};return t}(l["!ref"]);n({data:i,cols:u,fileName:t})},r?a.readAsBinaryString(e):a.readAsArrayBuffer(e)}return c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"contained-button-file"},c.a.createElement("input",{accept:".xlsx,.xls",className:t.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){var t=e.target,a=t.files,n=t.value.replace(/.*\\/g,"");a&&a[0]&&r(a[0],n)}}),c.a.createElement(ie.a,{variant:"contained",component:"span",className:t.button,style:a},"Upload")))}ut.defaultProps={style:{}};var st=ut,pt=a(95),mt=a(96),dt=a.n(mt);var Et=function(){var e=it();return c.a.createElement("div",{className:e.divDownloadTemplate,onClick:function(){var e=lt.a.utils.aoa_to_sheet(pt),t=lt.a.utils.book_new();lt.a.utils.book_append_sheet(t,e,"Template"),lt.a.writeFile(t,"Template.xlsx")}},c.a.createElement("img",{alt:"Click to download template",src:dt.a,className:e.imgDownloadTemplate,style:{width:"-webkit-fill-available"}}),c.a.createElement("span",{className:e.spanDownloadTemplate},"Click to download template"))},Ot={dispatchSetTransportType:h,dispatchCargoData:y};var ft=Object(u.connect)(function(e){return{transportType:N(e),cargoData:j(e),fileName:D(e)}},Ot)(function(e){var t=Object(r.useState)({}),a=Object(ne.a)(t,2),n=a[0],o=a[1],l=e.footerProps,i=e.dispatchSetTransportType,u=e.transportType,s=e.cargoData,p=e.dispatchCargoData,m=e.fileName;return c.a.createElement("div",{className:"frame-holder"},c.a.createElement("h1",{className:"frame-header"},"Fill in cargo data:"),c.a.createElement("h2",{className:"frame-header"},"Type of transport:"),c.a.createElement(et.a,{"aria-label":"transport",name:"transport",value:u,onChange:function(e){i(e.target.value)},style:{marginTop:".5em"},row:!0},c.a.createElement(tt.a,{value:"40hq",control:c.a.createElement($e.a,{color:"primary"}),label:"40'HQ sea container FCL",labelPlacement:"start"}),c.a.createElement(tt.a,{value:"20dv",control:c.a.createElement($e.a,{color:"primary"}),label:"20'DV sea container FCL",labelPlacement:"start"}),c.a.createElement(tt.a,{value:"eurotent",control:c.a.createElement($e.a,{color:"primary"}),label:"Truck FTL 33pallets/86CBM ",labelPlacement:"start"}),c.a.createElement(tt.a,{value:"lcl",control:c.a.createElement($e.a,{color:"primary"}),label:"LCL/Groupage",labelPlacement:"start"})),n.transportType&&c.a.createElement(Xe,{errorType:n.transportType}),c.a.createElement(ct,{label:"Upload data  from excel",style:{marginTop:"1em"}}),c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement(fe,{disabled:!0,value:m}),c.a.createElement(st,{dispatchCargoData:p})),n.fileName&&c.a.createElement(Xe,{errorType:n.fileName}),n.cargoData&&c.a.createElement(Xe,{errorType:n.cargoData}),c.a.createElement(Et,null),c.a.createElement(ve,Object.assign({},l,{validate:function(){var e=Ke.validateRadioNotSelected,t=Ke.validateFileNotProvided,a=Ke.validateWrongDataFormat,n={transportType:e(u),fileName:t(m),cargoData:!t(m)&&a(s)};return o(n),Object.values(n).every(function(e){return!1===!!e})}})))}),bt=a(220),ht=a(213),yt=Object(ue.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}});function gt(e){var t=yt();var a=e.style,n=e.value,r=e.name,o=e.disabled,l=e.menuItems;return c.a.createElement("div",null,c.a.createElement(ht.a,{value:n,onChange:function(t){e.handleChange(t)},displayEmpty:!0,name:r,className:t.selectEmpty,style:a,disabled:o},Object.values(l).map(function(e){return c.a.createElement(bt.a,{key:e.name,value:e.name},e.description)})))}gt.defaultProps={style:{}};var Tt=Object(ue.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}});function vt(e){var t=Tt(),a=e.label,n=e.style,r=e.handleChange,o=e.date;return c.a.createElement("form",{className:t.container,noValidate:!0},c.a.createElement(Oe.a,{id:"date",label:a,type:"date",className:t.textField,InputLabelProps:{shrink:!0},style:n,defaultValue:o,onChange:r}))}function _t(e){var t=e.handleChangeDate,a=e.handleChangeAmount,n=e.amount,r=e.handleChangeExchangeRate,o=e.exchangeRate,l=e.date;return c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement(fe,{placeholder:"0.00",style:{marginRight:"5px"},type:"number",value:n.toString(),handleChange:a}),c.a.createElement(vt,{label:"Date of payment",style:{marginRight:"5px"},handleChange:t,date:l}),c.a.createElement(fe,{placeholder:"0.00",style:{marginRight:"5px"},type:"number",value:o.toString(),handleChange:r}))}vt.defaultProps={style:{},label:"",date:""},_t.defaultProps={amount:0,exchangeRate:0,date:""};var Nt=_t,jt=a(66),St=a(97),Dt=a.n(St);a(160);function Pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Rt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pt(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ct="get",At="post",It="update",wt=function(){function e(e,t){return new Promise(function(a,n){Dt()(e,t).then(function(e){return a(e.data)}).catch(function(e){!function(e){e.message?jt.toastr.error(e.message,e.response&&e.response.data&&e.response.data.message):jt.toastr.error("Error","An error has occurred")}(e),n(e)})})}function t(t,a,n,r){var c={method:a||Ct,data:n,params:Rt({},r||{})};return a!==At&&a!==It||(c.headers={"Content-Type":"application/json"}),e(t,c)}return{get:function(e,a){return t(e,Ct,null,a)},post:function(e,a,n){return t(e,At,a,n)},put:function(e,a,n){return t(e,It,a,n)},deleteRequest:function(e,a){return t(e,"delete",null,a)}}}(),Ut=function(e,t,a){return function(n){return function(r){n(!0),wt.get("https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?valcode=".concat(e,"&date=").concat(t,"&json")).then(function(e){r({index:a,exchangeRate:e[0].rate})}).catch(function(e){return console.error(e)}).finally(function(){return n(!1)})}}};a(161);function Lt(e){return e.isVisible&&c.a.createElement("div",{className:"preloader"},c.a.createElement("span",null,"LOADING..."))}Lt.defaultProps={isVisible:!1};var xt=Lt,Mt={dispatchSetCurrency:V,dispatchSetAmount:H,dispatchSetExchangeRate:X};var kt=Object(u.connect)(function(e){return{template:q(e)}},Mt)(function(e){var t=Object(r.useState)({amount:[],currency:[]}),a=Object(ne.a)(t,2),n=a[0],o=a[1],l=Object(r.useState)(!1),i=Object(ne.a)(l,2),u=i[0],s=i[1],p=Object(r.useState)([]),m=Object(ne.a)(p,2),d=m[0],E=m[1],O=e.footerProps,f=e.dispatchSetCurrency,b=e.dispatchSetAmount,h=e.template,y=e.dispatchSetExchangeRate;return u?c.a.createElement(xt,{isVisible:u}):c.a.createElement("div",{className:"frame-holder"},c.a.createElement("h1",{className:"frame-header"},"Edit payment dates:"),h.map(function(e,t){var a=e.name,r=e.currency,o=e.amount,l=e.exchangeRate;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",{className:"frame-header",key:"".concat(a,"h2")},a),c.a.createElement(gt,{value:r,name:"currency",disabled:!1,menuItems:C,style:{width:"200px"},handleChange:function(e){return function(e,t){f({index:t,currency:e.target.value})}(e,t)},key:"".concat(a,"SimpleSelect")}),n.currency[t]&&c.a.createElement(Xe,{errorType:n.currency[t]}),c.a.createElement(Nt,{handleChangeDate:function(e){return function(e,t){var a=e.target.value.replace(/-/g,""),n=h[t].currency,r=Object(P.a)(d);r[t]=e.target.value,Ut(n,a,t)(s)(y),E(r)}(e,t)},key:"".concat(a,"EADL"),handleChangeAmount:function(e){return function(e,t){b({index:t,amount:+e.target.value})}(e,t)},amount:o,handleChangeExchangeRate:function(e){return function(e,t){y({index:t,exchangeRate:e.target.value})}(e,t)},exchangeRate:l,date:d[t]}),n.amount[t]&&c.a.createElement(Xe,{key:"".concat(a,"ERR"),errorType:n.amount[t]}))}),c.a.createElement(ve,Object.assign({},O,{validate:function(){var e=Ke.validateIsNegativeOrZero,t=Ke.validateNotNumber,a=Ke.validateEmpty0,n={amount:Object(P.a)(h.map(function(a){var n=a.amount;return t(n)||e(n)})),currency:Object(P.a)(h.map(function(e){var t=e.currency;return a(t)}))};return o(n),Object.values(n).flat().every(function(e){return!1===!!e})}})))}),Bt=a(211),Ft=a(210),Yt=a(98),Wt=a.n(Yt),Gt=Object(ue.a)(function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}});function Vt(e){var t=Gt(),a=e.style,n=e.handleClick;return c.a.createElement("div",{style:a},c.a.createElement(Ft.a,{color:"primary","aria-label":"add",className:t.fab,size:"small",onClick:n},c.a.createElement(Wt.a,null)))}Vt.defaultProps={style:{}};var Ht=Vt,Xt=a(99),Kt=a.n(Xt),Jt=Object(ue.a)(function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}});function qt(e){var t=Jt(),a=e.style,n=e.handleDelete;return c.a.createElement("div",{style:a},c.a.createElement(Ft.a,{"aria-label":"delete",className:t.fab,size:"small",onClick:n},c.a.createElement(Kt.a,null)))}function zt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zt(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Zt(e){var t=e.style,a=e.disabled,n=e.distributionCriterion,r=e.isHeader,o=e.nameOfStateOfExpenses,l=e.nameOfSelect,i=e.isDefault,u=e.handleChangeInput,s=e.handleChangeCriterion,p=e.handleDelete,m=e.errorLabel,d=m.showError,E=m.errorType;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Bt.a,{item:!0,xs:6},r?c.a.createElement(ct,{label:"Expenses type"}):null,c.a.createElement(fe,{value:o,placeholder:o?"":"NEW STATE OF EXPENSES",style:Qt({margin:0,width:"100%"},t),disabled:a,handleChange:u})),c.a.createElement(Bt.a,{item:!0,xs:5},r?c.a.createElement(ct,{label:"Distribute by"}):null,c.a.createElement(gt,{value:n,style:Qt({width:"100%"},t),disabled:a,menuItems:R,name:l,key:o+l,handleChange:s})),c.a.createElement(Bt.a,{item:!0,xs:1},c.a.createElement(qt,{style:{marginTop:"auto",visibility:i?"hidden":""},handleDelete:p})),d&&c.a.createElement(Bt.a,{item:!0,xs:12},c.a.createElement(Xe,{errorType:E})))}qt.defaultProps={style:{}},Zt.defaultProps={style:{},disabled:!1,isHeader:!1};var $t=Zt,ea=Object(ue.a)(function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}});function ta(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var aa={dispatchAddStateOfExpenses:B,dispatchDeleteStateOfExpenses:W,dispatchSetName:F,dispatchSetCriterion:Y,dispatchResetTemplate:G};var na=Object(u.connect)(function(e){return{template:q(e)}},aa)(function(e){var t=ea(),a=e.footerProps,n=e.template,o=Object(r.useState)({}),l=Object(ne.a)(o,2),i=l[0],u=l[1];return c.a.createElement("div",{className:"frame-holder"},c.a.createElement("h1",{className:"frame-header"},"Edit template:"),c.a.createElement("div",{className:t.root,style:{marginTop:"40px"}},c.a.createElement(Bt.a,{container:!0,spacing:3},n.map(function(t,a){var n=t.name,r=t.criterion.name,o=t.isDefault;return c.a.createElement($t,{key:a,nameOfStateOfExpenses:n,distributionCriterion:r,disabled:o,isHeader:0===a,nameOfSelect:"criterion",handleChangeInput:function(t){return function(t,a){(0,e.dispatchSetName)({index:a,name:t.target.value.toUpperCase()})}(t,a)},handleChangeCriterion:function(t){return function(t,a){(0,e.dispatchSetCriterion)({index:a,criterion:t.target.value})}(t,a)},handleDelete:function(){return t=a,void(0,e.dispatchDeleteStateOfExpenses)(t);var t},isDefault:o,errorLabel:{showError:!!i[a],errorType:i[a]}})})),c.a.createElement(Ht,{style:{marginTop:"30px",textAlign:"center"},handleClick:function(){(0,e.dispatchAddStateOfExpenses)({name:"",isDefault:!1,currency:U,criterion:Object.values(R)[0]})}})),c.a.createElement(ve,Object.assign({},a,{validate:function(){var e=Ke.validateEmpty5,t=Ke.validateLonger30,a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ta(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ta(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},n.map(function(a){var n=a.name;return e(n)||t(n)}));return u(a),Object.values(a).every(function(e){return!1===!!e})},reset:function(){(0,e.dispatchResetTemplate)()}})))}),ra={ChooseAction:ze,DDPPrice:Ze,EditCargoData:ft,EditPaymentDates:kt,EditTemplate:na},ca={CHOOSE_ACTION:"choose-action",EDIT_TEMPLATE:"edit-template",EDIT_CARGO_DATA:"edit-cargo-data",EDIT_PAYMENT_DATES:"edit-payment-dates"},oa=[{label:"Choose action",message:"Step 1: what are we going to do?",path:ca.CHOOSE_ACTION,component:ra.ChooseAction},{label:"Edit template",message:"Step 2: Edit template and click submit or just skip...",path:ca.EDIT_TEMPLATE,component:ra.EditTemplate,optional:!0},{label:"Fill in the cargo data",message:"Step 3: Please fill in cargo data...",path:ca.EDIT_CARGO_DATA,component:ra.EditCargoData},{label:"Payment dates by expenses",message:"Step 4: Please fill in payment dates and amounts...",path:ca.EDIT_PAYMENT_DATES,component:ra.EditPaymentDates}];function la(e){var t=e.match,a=e.history,n=be(),o=Object(r.useState)(0),l=Object(ne.a)(o,2),i=l[0],u=l[1],s=c.a.useState(new Set),p=Object(ne.a)(s,2),m=p[0],d=p[1],E=oa.map(function(e){return e.label}),O="".concat(t.path,"/").concat(oa[0].path),f="".concat(Qe.HOME_ROUTE).concat(Qe.DDP_CALCULATION_RESULT),b=window.location.pathname,h=Object(r.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i||0;return t&&t.path&&oa&&oa[e]&&oa[e].path?"".concat(t.path,"/").concat(oa[e].path):O},[O,i,t]);Object(r.useEffect)(function(){b!==f&&b!==h()&&(a.push(O),u(function(){return 0}))},[b,O,f,h,a]);var y=Object(r.useCallback)(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:i)===oa.length-1},[i]),g=Object(r.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return!!oa[e].optional},[i]),T=Object(r.useCallback)(function(){return m.has(i)},[i,m]),v=Object(r.useCallback)(function(){return y(i)?f:h(i+1)},[f,i,h,y]),_=Object(r.useCallback)(function(){return oa[i-1].path},[i]),N=Object(r.useCallback)(function(){var e=m;T(i)&&(e=new Set(e.values())).delete(i),u(function(e){return e+1}),d(e),a.push(v())},[i,v,a,T,m]),j=Object(r.useCallback)(function(){u(function(e){return e-1}),a.push(_())},[_,a]),S=Object(r.useCallback)(function(){if(!g(i))throw new Error("You can't skip a step that isn't optional.");u(function(e){return e+1}),d(function(e){var t=new Set(e.values());return t.add(i),t}),a.push(v())},[i,v,a,g]);return c.a.createElement("div",{className:n.root},c.a.createElement(re.a,{activeStep:i},E.map(function(e,t){var a={},n={};return g(t)&&(n.optional=c.a.createElement(le.a,{variant:"caption"},"Optional")),T(t)&&(a.completed=!1),c.a.createElement(ce.a,Object.assign({key:e},a),c.a.createElement(oe.a,n,e))})),c.a.createElement(ae.d,null,oa.map(function(e){var a=e.path,n=e.component;return c.a.createElement(ae.b,{key:a,path:"".concat(t.path,"/").concat(a),render:function(e){return c.a.createElement(n,Object.assign({},e,{footerProps:{handleBack:j,handleNext:N,handleSkip:S,stepContent:oa[i].message,isStepOptional:g(),isLastStep:y(),isBackButtonDisabled:0===i}}))}})}),c.a.createElement(ae.b,{key:O,exact:!0,path:O,component:oa[0].component})))}var ia=Object(ae.g)(function(e){return la(e)});a(163);var ua=function(){return c.a.createElement(ae.d,null,c.a.createElement(ae.b,{path:"".concat(Qe.HOME_ROUTE).concat(Qe.STEPPER_ROUTE),component:ia}),c.a.createElement(ae.b,{path:"".concat(Qe.HOME_ROUTE).concat(Qe.DDP_CALCULATION_RESULT),component:Ze}),c.a.createElement(ae.a,{to:"".concat(Qe.HOME_ROUTE).concat(Qe.STEPPER_ROUTE)}))},sa=(a(164),$(z,te())),pa=c.a.createElement(u.Provider,{store:sa},c.a.createElement(i.a,null,c.a.createElement(ua,null)));l.a.render(pa,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},78:function(e,t){},95:function(e){e.exports=[["Item code","Item Description","U.M.","Quantity, U.M.","Price per U.M.","Currency","Gross Weight, kg","Volume, CBM","Duty tariff, %"],["A-001","Kitchen knife XL","pcs",100,1,"USD",10,1,5],["A-002","Kitchen knife L","pcs",100,.5,"USD",5,.5,5],["A-010","Kitchen AXE","pcs",100,2,"USD",20,1.5,5]]},96:function(e,t,a){e.exports=a.p+"static/media/template.996dd945.png"}},[[110,1,2]]]);
//# sourceMappingURL=main.d96a5858.chunk.js.map